<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A fictional migration story in STAR format about ZionPay Financial Services and the hidden traps in Azure Migrate assessment models.">
    <title>The Assessment That Wouldn’t Let Go of AVS | Upendra Kumar</title>

    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="The Assessment That Wouldn’t Let Go of AVS | Upendra Kumar">
    <meta property="og:description" content="A fictional migration story in STAR format about ZionPay Financial Services and the hidden traps in Azure Migrate assessment models.">
    <meta property="og:image" content="https://portfolio.upendrakumar.com/images/blog/azure-migrate-trap.webp">
    <meta property="og:url" content="https://portfolio.upendrakumar.com/blog/2025-12-30-azure-migrate-trap.html">
    <meta property="og:site_name" content="Upendra Kumar Portfolio">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="The Assessment That Wouldn’t Let Go of AVS | Upendra Kumar">
    <meta name="twitter:description" content="A fictional migration story in STAR format about ZionPay Financial Services and the hidden traps in Azure Migrate assessment models.">
    <meta name="twitter:image" content="https://portfolio.upendrakumar.com/images/blog/azure-migrate-trap.webp">

    <link rel="stylesheet" href="../css/style.css?v=25">
    <link rel="stylesheet" href="../css/premium.css?v=25">
    <style>
        /* Blog Post Specific Styles */
        .blog-post-hero {
            padding: 8rem 0 4rem;
            background: var(--bg-dark);
            position: relative;
            overflow: hidden;
        }

        .blog-post-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem 1.5rem 6rem;
            color: var(--text-light);
            line-height: 1.8;
            font-size: 1.1rem;
        }

        .blog-post-content h2 {
            color: var(--text-main);
            font-size: 2rem;
            margin-top: 3rem;
            margin-bottom: 1.5rem;
            font-family: 'Outfit', sans-serif;
        }

        .blog-post-content h3 {
            color: #e2e8f0;
            font-size: 1.5rem;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        .blog-post-content p {
            margin-bottom: 1.5rem;
        }

        .blog-post-content ul,
        .blog-post-content ol {
            margin-bottom: 2rem;
            padding-left: 2rem;
        }

        .blog-post-content li {
            margin-bottom: 0.5rem;
        }

        .blog-post-content code {
            background: rgba(255, 255, 255, 0.05);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .blog-post-content pre {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(56, 189, 248, 0.2);
            border-left: 4px solid #0ea5e9;
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 2rem 0;
        }

        .blog-post-content pre code {
            background: none;
            padding: 0;
        }

        .blog-post-meta {
            display: flex;
            gap: 2rem;
            margin-bottom: 2rem;
            color: var(--text-muted);
            font-size: 0.95rem;
        }

        .blog-post-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin: 2rem 0;
        }

        .blog-tag {
            background: rgba(168, 85, 247, 0.1);
            color: #a855f7;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            border: 1px solid rgba(168, 85, 247, 0.2);
        }
        
        .btn {
            display: inline-block;
            font-weight: 600;
            text-align: center;
            white-space: nowrap;
            vertical-align: middle;
            user-select: none;
            border: 1px solid transparent;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            line-height: 1.5;
            border-radius: 0.25rem;
            transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            text-decoration: none;
        }
        
        .btn-primary {
            color: #fff;
            background-color: #3b82f6;
            border-color: #3b82f6;
        }
        
        .btn-primary:hover {
            background-color: #2563eb;
            border-color: #2563eb;
        }
        
        .btn-outline {
            color: #3b82f6;
            background-color: transparent;
            border-color: #3b82f6;
        }
        
        .btn-outline:hover {
            color: #fff;
            background-color: #3b82f6;
            border-color: #3b82f6;
        }
    </style>

    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@700;800;900&family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="dark-theme">
    <canvas id="particles-canvas"></canvas>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand" style="display: flex; align-items: center; gap: 1rem;">
                <a href="../index.html" style="text-decoration: none;">
                    <div class="nav-logo-uk">UK</div>
                </a>
                <div>
                    <h2>Upendra Kumar</h2>
                    <p class="nav-tagline">Professional Services Delivery Architect</p>
                </div>
            </div>
            <ul class="nav-menu">
                <li><a href="../index.html">Home</a></li>
                <li><a href="../pages/expertise.html">Expertise</a></li>
                <li><a href="../blog.html" class="active">Insights</a></li>
                <li><a href="../pages/contact.html">Contact</a></li>
                <li><a href="../assets/pdf/Upendra_Kumar_Resume.pdf" target="_blank" class="nav-resume-btn">
                        <i class="fas fa-download"></i> Resume</a></li>
            </ul>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Blog Post Hero -->
    <section class="blog-post-hero">
        <div class="container" style="max-width: 1000px;">
            <div style="margin-bottom: 1rem;">
                <a href="../blog.html" style="color: var(--primary-color); text-decoration: none; display: inline-flex; align-items: center; gap: 0.5rem;">
                    <i class="fas fa-arrow-left"></i> Back to Insights
                </a>
            </div>

            <h1 style="font-family: 'Outfit', sans-serif; font-size: 3.5rem; line-height: 1.1; margin-bottom: 1.5rem; background: linear-gradient(135deg, #ffffff 0%, #cbd5e1 100%); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;">
                The Assessment That Wouldn’t Let Go of AVS
            </h1>

            <p style="font-size: 1.2rem; color: var(--text-muted); margin-bottom: 2rem;">
                A fictional migration story in STAR format about ZionPay Financial Services and the hidden traps in Azure Migrate assessment models.
            </p>

            <div class="blog-post-meta">
                <div><i class="fas fa-user"></i> Upendra Kumar</div>
                <div><i class="fas fa-calendar"></i> December 30, 2025</div>
                <div><i class="fas fa-clock"></i> 8 min read</div>
            </div>

            <div class="blog-post-tags">
                <span class="blog-tag"><i class="fas fa-tag"></i> Azure Migrate</span>
                <span class="blog-tag"><i class="fas fa-tag"></i> AVS</span>
                <span class="blog-tag"><i class="fas fa-tag"></i> STAR Method</span>
            </div>
        </div>
    </section>

    <!-- Blog Post Content -->
    <article class="blog-post-content">
        <p class="lead" style="font-size: 1.3rem; color: var(--primary-color); font-weight: 600;">
            A fictional migration story in STAR format about ZionPay Financial Services and the hidden traps in Azure Migrate assessment models.
        </p>

        <div style="background: rgba(59, 130, 246, 0.1); border-left: 4px solid #3b82f6; padding: 1.5rem; margin: 2rem 0; border-radius: 0 8px 8px 0;">
            <h4 style="margin-top: 0; color: #93c5fd;">The Cast</h4>
            <ul style="margin-bottom: 0;">
                <li><strong>Neo:</strong> Migration Consultant (lead architect for assessment and strategy)</li>
                <li><strong>Trinity:</strong> Project Manager (timeline, stakeholders, RAID log)</li>
                <li><strong>Morpheus:</strong> Cloud Engineer (Azure Migrate setup, discovery, tooling)</li>
                <li><strong>The Oracle:</strong> Client SME (application context, operational patterns, "what really happens in prod")</li>
                <li><strong>Fictional Company:</strong> ZionPay Financial Services</li>
                <li><strong>Goal:</strong> VMware to Azure Virtual Machines (lift and shift)</li>
            </ul>
        </div>

        <h2><span class="gradient-text">S - Situation: ZionPay's leadership wanted clarity, fast.</span></h2>
        <p>
            ZionPay Financial Services ran a large VMware estate. Hundreds of servers supported payments, reporting, and compliance workloads. The board had approved "move to Azure" in principle, but finance demanded numbers.
        </p>
        <p>
            Neo had seen this movie before. A clean Azure VM assessment would give ZionPay readiness, sizing, and cost. Trinity booked the steering committee review. Morpheus confirmed discovery was complete. The Oracle warned that month-end spikes were real and ugly.
        </p>
        <p>
            Everything looked aligned. Then the team clicked <strong>Create assessment</strong>.
        </p>

        <h2><span class="gradient-text">T - Task: Neo's task was precise.</span></h2>
        <p>
            Create an Azure VM only assessment that could stand up to executive scrutiny:
        </p>
        <ul>
            <li>Performance-based sizing</li>
            <li>Readiness and risk flags</li>
            <li>Cost estimates based on observed utilization</li>
            <li>A defensible baseline for migration waves</li>
        </ul>
        <p>
            Trinity needed it in time for the next leadership checkpoint. Morpheus needed the portal to cooperate. The Oracle needed the assessment to reflect reality, not wishful averages.
        </p>

        <h2><span class="gradient-text">A - Action</span></h2>

        <h3>Act 1: The Portal Offers Two Doors</h3>
        <p>
            Morpheus opened the Azure Migrate project and started the assessment wizard. Under <strong>Target services</strong>, two options appeared:
        </p>
        <ul>
            <li>Azure VM</li>
            <li>Azure VMware Solution (AVS)</li>
        </ul>
        <p>
            Neo told Morpheus to choose only Azure VM. But AVS was already selected, and worse, it was locked. The checkbox could not be unchecked. Trinity watched the screen recording twice. The Oracle raised an eyebrow.
        </p>
        <p>
            Neo tried the obvious moves:
        </p>
        <ul>
            <li>Select only servers</li>
            <li>Select all servers</li>
            <li>Avoid applications</li>
            <li>Ignore dependencies</li>
            <li>Recreate the assessment</li>
        </ul>
        <p>
            AVS stayed.
        </p>

        <h3>Act 2: The Error Arrives Like an Agent</h3>
        <p>
            They proceeded anyway. The assessment failed. The portal returned a message that sounded like it belonged to a different meeting:
        </p>
        <blockquote>"Invalid Negotiated subscription provided."</blockquote>
        <p>
            Trinity asked the standard question: "Is it permissions?"<br>
            Neo checked. ZionPay's team had Contributor at subscription level. That wasn't it.
        </p>
        <p>
            The Oracle asked the more dangerous question: "Is our subscription the problem?"<br>
            Someone suggested switching from Pay-As-You-Go to Enterprise Agreement. Neo paused. That assumption smelled wrong.
        </p>

        <h3>Act 3: Neo Finds the Real Pattern</h3>
        <p>
            Neo reframed the problem. This was not a permissions issue. It was not a billing-reader issue. It was not even a "bug." It was a workflow issue.
        </p>
        <p>
            Neo explained to Trinity and Morpheus that Azure Migrate now behaves like two different tools wearing the same UI:
        </p>
        
        <h4>Model 1: Application-based assessment</h4>
        <ul>
            <li><strong>Scope:</strong> Applications and workloads</li>
            <li><strong>Purpose:</strong> modernization planning, dependency-aware analysis</li>
            <li><strong>Behavior:</strong> forces Azure VM + AVS (locked by design)</li>
        </ul>

        <h4>Model 2: Server-based assessment</h4>
        <ul>
            <li><strong>Scope:</strong> Servers only</li>
            <li><strong>Purpose:</strong> lift-and-shift sizing, readiness, cost</li>
            <li><strong>Behavior:</strong> Azure VM only</li>
        </ul>

        <p>
            They had been using the application/workload assessment wizard. That wizard includes AVS by design. When AVS is included, Azure validates whether the subscription is eligible for AVS. ZionPay's subscription wasn't AVS-enabled, so the service rejected the request with the "negotiated subscription" error.
        </p>
        <p>
            The checkbox was locked because Azure Migrate had already decided the assessment model. Neo told Morpheus: <em>"Stop trying to uncheck AVS. That is not a setting. That is a symptom."</em>
        </p>

        <h3>Act 4: The Correct Entry Point</h3>
        <p>
            Neo asked Morpheus to change only one thing: the entry path. Instead of creating the assessment from a project-level flow that spoke in terms of applications and workloads, Morpheus created it from the server assessment path:
        </p>
        <ol>
            <li>Go to Servers / Infrastructure inventory</li>
            <li>Select machines</li>
            <li>Create assessment targeting Azure VM</li>
        </ol>
        <p>
            This time, AVS never showed up. No lock. No negotiation error. The assessment started clean.
        </p>

        <h2><span class="gradient-text">R - Result: ZionPay got what leadership needed.</span></h2>
        <ul>
            <li>An Azure VM-only assessment generated successfully</li>
            <li>Performance-based sizing and readiness outputs available</li>
            <li>A defensible baseline for migration waves and cost planning</li>
            <li>No AVS dependency, so no "negotiated subscription" failures</li>
        </ul>
        <p>
            Trinity captured the root cause and added a control point to the plan: <em>"Confirm assessment model before creation."</em>
        </p>
        <p>
            The Oracle validated the workload list and flagged systems with missing metadata that could reduce inclusion.
        </p>
        <p>
            Neo summarized the outcome in one sentence for executives:
        </p>
        <blockquote>
            The failure was caused by using an application-based assessment model that forces AVS. Switching to the server-based Azure VM assessment model resolved it.
        </blockquote>

        <h2><span class="gradient-text">The Second Twist: "When will we get 100% performance coverage?"</span></h2>
        <p>
            ZionPay leadership then asked the question that always comes next. Trinity wanted a date. The Oracle wanted realism. Neo wanted to prevent premature sign-off.
        </p>
        <p>
            Neo explained what "100% coverage" really means. Azure Migrate performance sizing is based on historical utilization data (CPU, Memory, Disk IOPS/throughput, Network). So coverage is time-based.
        </p>
        
        <h3>Timeline that leadership can trust</h3>
        <ul>
            <li><strong>7 days:</strong> directional only. Good for early estimates. Risky for final sizing.</li>
            <li><strong>14 days:</strong> planning-grade accuracy. Captures weekly cycles.</li>
            <li><strong>30 days:</strong> executive-grade confidence. Captures month-end spikes, batch jobs, peak behavior.</li>
        </ul>
        <p>
            Neo told ZionPay leadership: <em>Final sizing and cost sign-off should wait for 30 days of continuous data collection.</em> The Oracle nodded. Trinity updated the steering committee milestone.
        </p>

        <h2><span class="gradient-text">Next Course of Action for ZionPay</span></h2>
        
        <h3>Immediate (this week)</h3>
        <ul>
            <li>Use server-based Azure VM assessments for lift-and-shift planning</li>
            <li>Avoid the applications and workloads assessment flow unless AVS is truly in scope</li>
        </ul>

        <h3>Short term (next 2 to 4 weeks)</h3>
        <ul>
            <li>Maintain two assessment tracks:
                <ul>
                    <li>VM-only for sizing and cost</li>
                    <li>Application-based only if modernization or AVS is being evaluated</li>
                </ul>
            </li>
        </ul>

        <h3>Long term (before final business case)</h3>
        <ul>
            <li>Allow 30 days performance history before finalizing:
                <ul>
                    <li>right-sizing</li>
                    <li>cost approvals</li>
                    <li>migration wave commitments</li>
                </ul>
            </li>
        </ul>

        <h2><span class="gradient-text">Lessons Learned / Controls for Future</span></h2>
        
        <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px; margin-bottom: 1rem;">
            <h4 style="margin-top: 0; color: #f472b6;">Finding 1: Incorrect assessment model used</h4>
            <p><strong>Impact:</strong> AVS forced into scope, assessment creation failed, time lost.</p>
            <p><strong>Control:</strong> Add a mandatory "Assessment Model Check" step before assessment creation. If the wizard says "Applications and workloads", stop and switch to server-based flow for Azure VM-only.</p>
        </div>

        <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px; margin-bottom: 1rem;">
            <h4 style="margin-top: 0; color: #f472b6;">Finding 2: AVS eligibility validation triggered unintentionally</h4>
            <p><strong>Impact:</strong> "Invalid Negotiated subscription" error, confusion around EA vs PayGo.</p>
            <p><strong>Control:</strong> Document that AVS inclusion requires an AVS-enabled subscription. Do not rely on subscription type change as a primary fix. Avoid AVS entirely if not in scope.</p>
        </div>

        <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px; margin-bottom: 1rem;">
            <h4 style="margin-top: 0; color: #f472b6;">Finding 3: Performance coverage expectations not aligned with decision timeline</h4>
            <p><strong>Impact:</strong> Risk of premature sizing and cost sign-off.</p>
            <p><strong>Control:</strong> Set policy for performance data window: 14 days minimum for planning, 30 days required for final business case and wave sign-off.</p>
        </div>

        <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px; margin-bottom: 1rem;">
            <h4 style="margin-top: 0; color: #f472b6;">Finding 4: Scope selection governance was weak</h4>
            <p><strong>Impact:</strong> Partial inventory included in assessment (example: 83 vs 267).</p>
            <p><strong>Control:</strong> Require an "Included vs Excluded" review after assessment creation. Capture excluded reasons (missing CPU/RAM/disk, data gaps).</p>
        </div>

        <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 8px; margin-bottom: 1rem;">
            <h4 style="margin-top: 0; color: #f472b6;">Finding 5: Operational continuity of appliance not formally managed</h4>
            <p><strong>Impact:</strong> Coverage drops due to restarts/connectivity gaps.</p>
            <p><strong>Control:</strong> Add monitoring and a daily health check for the Azure Migrate appliance heartbeat and data collection continuity.</p>
        </div>

        <h2><span class="gradient-text">Microsoft Learn References</span></h2>
        <ul>
            <li><a href="https://learn.microsoft.com/en-us/azure/migrate/concepts-assessment-calculation" target="_blank">Azure Migrate assessment calculations</a></li>
            <li><a href="https://learn.microsoft.com/en-us/azure/migrate/tutorial-assess-physical" target="_blank">Assess servers for Azure VM migration</a></li>
            <li><a href="https://learn.microsoft.com/en-us/azure/migrate/how-to-create-application-assessment" target="_blank">Create application assessment</a></li>
            <li><a href="https://learn.microsoft.com/en-us/azure/azure-vmware/" target="_blank">Azure VMware Solution overview</a></li>
            <li><a href="https://learn.microsoft.com/en-us/azure/azure-vmware/faq" target="_blank">Azure VMware Solution FAQ</a></li>
        </ul>
    </article>

        <hr style="border-color: rgba(255,255,255,0.1); margin: 3rem 0;">

        <h3>The Lesson</h3>
        <p>
            Azure Migrate is a compass, not a GPS. It points North, but it won't tell you about the cliff in the way. Always question the "default" target. The easiest migration path is often the most expensive operational path.
        </p>

        <div style="margin-top: 2rem; display: flex; gap: 1rem;">
            <a href="../pages/contact.html" class="btn btn-primary">Contact Me</a>
            <a href="../pages/azure-migration-toolkit.html" class="btn btn-outline">View the Toolkit</a>
        </div>

        <!-- Back to Blog Button -->
        <div style="text-align: center; margin: 4rem 0;">
            <a href="../blog.html" class="btn btn-primary" style="display: inline-block; padding: 1rem 2rem;">
                <i class="fas fa-arrow-left"></i> Back to Insights
            </a>
        </div>
    </article>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Upendra Kumar. All rights reserved. This content is personal and not affiliated with Rackspace Technology.</p>
            <div class="social-links">
                <a href="https://www.linkedin.com/in/journeytocloudwithupendra/" target="_blank" title="LinkedIn">
                    <i class="fab fa-linkedin"></i>
                </a>
                <a href="https://github.com/appliedailearner" target="_blank" title="GitHub">
                    <i class="fab fa-github"></i>
                </a>
            </div>
        </div>
    </footer>

    <script>
        // Mobile menu toggle
        const hamburger = document.querySelector('.hamburger');
        const navMenu = document.querySelector('.nav-menu');
        if (hamburger && navMenu) {
            hamburger.addEventListener('click', () => {
                hamburger.classList.toggle('active');
                navMenu.classList.toggle('active');
            });
        }
    </script>

    <!-- Smooth Navigation Enhancement -->
    <script src="../js/case-study-nav.js"></script>
    <script src="../js/particles.js"></script>
<!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "0b89fb05ee3844079b659405bc3f5428"}'></script><!-- End Cloudflare Web Analytics -->
</body>
</html>

